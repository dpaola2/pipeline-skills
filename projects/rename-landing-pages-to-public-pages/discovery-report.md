# Rename "Landing Pages" to "Public Pages" — Discovery Report

> **Generated by:** Pipeline Stage 1 (Discovery)
> **Date:** February 6, 2026
> **PRD:** `projects/rename-landing-pages-to-public-pages/prd.md`
> **Linear:** [PM-226](https://linear.app/orangeqc/issue/PM-226/question-is-it-too-late-to-rename-feature-to-public-pages)

---

## 1. PRD Understanding

### Feature Summary
Rename all user-facing occurrences of "Landing Page(s)" to "Public Page(s)" across the web admin UI. This is a cosmetic-only change — no database tables, model classes, routes, controllers, or internal code are renamed. The feature is in private beta behind the `landing_pages_enabled` flag, making this the last low-cost window before broader rollout.

### Entities Identified
| Entity | PRD Reference | Existing? | Current Location |
|--------|--------------|-----------|-----------------|
| LandingPage | NAV-001, HDG-001 | Yes | `app/models/landing_page.rb` |
| LandingPageSection | HDG-003 (form context) | Yes | `app/models/landing_page_section.rb` |
| LandingPageSectionForm | BTN-006 (form picker) | Yes | `app/models/landing_page_section_form.rb` |
| Structure (area assignment) | BTN-005, BTN-006 | Yes | `app/models/structure.rb` (has `landing_page_id` FK) |
| Account (feature flag) | FLG-001 | Yes | `app/models/account.rb` (has `landing_pages_enabled` column) |

### Platforms Affected
- [x] Rails (Web Admin)
- [ ] Rails (API) — N/A, no API endpoints serve this feature name
- [ ] iOS — N/A, Level 2 (web-only) project
- [ ] Android — N/A, Level 2 (web-only) project

---

## 2. Current State: Rails

### Related Models
| Model | File | Key Associations | Notes |
|-------|------|------------------|-------|
| LandingPage | `app/models/landing_page.rb` | `belongs_to :account`, `belongs_to :created_by` (User), `has_many :landing_page_sections`, `has_many :structures` | Includes `Archivable`, `LogoUploader`. No user-facing strings in model. |
| LandingPageSection | `app/models/landing_page_section.rb` | `belongs_to :landing_page`, `has_many :landing_page_section_forms` | Ordered by position. No user-facing strings. |
| LandingPageSectionForm | `app/models/landing_page_section_form.rb` | `belongs_to :landing_page_section`, polymorphic `form` | Join table. No user-facing strings. |

### Current Schema (Related Tables)

```sql
-- landing_pages
create_table "landing_pages" do |t|
  t.bigint "account_id", null: false
  t.string "title", limit: 255, null: false
  t.text "description"
  t.jsonb "logo_data"
  t.datetime "deleted_at"
  t.datetime "created_at", null: false
  t.datetime "updated_at", null: false
  t.integer "structures_count", default: 0, null: false
  t.bigint "created_by_id"
  -- Indexes: account_id, account_id+deleted_at, created_by_id
end

-- landing_page_sections
create_table "landing_page_sections" do |t|
  t.bigint "landing_page_id", null: false
  t.string "title", limit: 255, null: false
  t.integer "position", default: 0, null: false
  t.integer "submission_limit", default: 2, null: false
  t.boolean "show_completed_by", default: false, null: false
  t.boolean "show_form_name", default: false, null: false
  -- Indexes: landing_page_id, landing_page_id+position
end

-- landing_page_section_forms
create_table "landing_page_section_forms" do |t|
  t.bigint "landing_page_section_id", null: false
  t.string "form_type", limit: 50, null: false
  t.string "form_id", limit: 36, null: false
  -- Indexes: landing_page_section_id, form_type+form_id, unique(section+form_type+form_id)
end
```

### Related Controllers
| Controller | File | Actions | Auth Pattern |
|-----------|------|---------|--------------|
| Setup::LandingPagesController | `app/controllers/setup/landing_pages_controller.rb` | index, show, new, create, edit, update, archive, restore, duplicate, preview, assigned_areas, available_forms | `require_administer_permission`, `require_landing_pages_enabled` |
| Setup::ArchivedLandingPagesController | `app/controllers/setup/archived_landing_pages_controller.rb` | index | Same auth pattern |
| Setup::LandingPageAssignmentsController | `app/controllers/setup/landing_page_assignments_controller.rb` | new, create | Same auth pattern |
| Setup::AssignedLandingPagesController | `app/controllers/setup/assigned_landing_pages_controller.rb` | create, destroy | Same auth pattern |

### Related Serializers / Blueprints
No blueprints or serializers exist for landing pages. The feature is admin-only with no API exposure.

### Related API Endpoints (Current)
None. Landing pages are not served via API.

### Related Tests
| Test File | Coverage | Type |
|-----------|----------|------|
| `spec/requests/setup/landing_pages_controller_spec.rb` | Controller actions (CRUD, archive, restore, duplicate) | Request spec |
| `spec/requests/setup/archived_landing_pages_controller_spec.rb` | Archived index | Request spec |
| `spec/requests/setup/landing_page_assignments_controller_spec.rb` | Bulk assign flow | Request spec |
| `spec/features/setup/landing_pages_spec.rb` | End-to-end admin workflows | Feature spec |
| `spec/models/landing_page_section_spec.rb` | Section model behavior | Model spec |
| `spec/helpers/landing_pages_helper_spec.rb` | Helper methods | Helper spec |
| `spec/services/landing_pages/submissions_query_spec.rb` | Query service | Service spec |
| `spec/factories/landing_page.rb` | Factory definition | Factory |
| `spec/factories/landing_page_section.rb` | Factory definition | Factory |
| `spec/factories/landing_page_section_form.rb` | Factory definition | Factory |

### Related Background Jobs
None. No background jobs reference landing pages.

---

## 3. Current State: iOS

N/A — Level 2 (web-only) project. iOS does not render the landing pages admin.

---

## 4. Current State: Android

N/A — Level 2 (web-only) project. Android does not render the landing pages admin.

---

## 5. Cross-Platform Patterns

### Data Flow
```
Admin UI (ERB views) → Setup controllers → LandingPage model → PostgreSQL
                                                                    ↓
Public visitor (QR scan) → Go::StructuresController → go/landing_pages/show view
```

The public-facing view (`app/views_tailwind/go/landing_pages/show.html.erb`) does NOT display the text "Landing Page" anywhere — it only shows the custom title and description set by the admin. No changes needed on the public-facing side.

### Serialization Format
N/A — no API serialization for landing pages.

### API Versioning
N/A — no API endpoints for landing pages.

### How Similar Features Are Built
The landing pages feature follows standard OrangeQC admin patterns:
- Namespace under `Setup::` with `leftnav` layout
- Tailwind views (the feature was built after the Tailwind migration started)
- Bootstrap views for the area-assignment right pane (`assigned_landing_pages/_landing_page.html.erb`)
- `Archivable` concern for soft-delete
- Feature flag gating via `landing_pages_enabled` on Account

---

## 6. User-Facing String Inventory

This is the comprehensive list of every user-visible "Landing Page(s)" string that must change to "Public Page(s)".

### 6.1 Sidebar Navigation (2 files, 2 occurrences)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/_sidebar.html.erb` | 21 | `"Landing Pages"` | `"Public Pages"` |
| `app/views_tailwind/setup/_sidebar.html.erb` | 83 | `Landing Pages` | `Public Pages` |

### 6.2 Controller Breadcrumbs / @title (6 occurrences in 2 files)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/controllers/setup/landing_pages_controller.rb` | 13 | `"Landing Pages"` | `"Public Pages"` |
| `app/controllers/setup/landing_pages_controller.rb` | 59 | `"New Landing Page"` | `"New Public Page"` |
| `app/controllers/setup/landing_pages_controller.rb` | 71 | `"New Landing Page"` | `"New Public Page"` |
| `app/controllers/setup/landing_pages_controller.rb` | 77 | `"Edit Landing Page"` | `"Edit Public Page"` |
| `app/controllers/setup/landing_pages_controller.rb` | 85 | `"Edit Landing Page"` | `"Edit Public Page"` |
| `app/controllers/setup/archived_landing_pages_controller.rb` | 14 | `"Archived Landing Pages"` | `"Archived Public Pages"` |

### 6.3 Controller Flash Messages (6 occurrences in 1 file)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/controllers/setup/landing_pages_controller.rb` | 68 | `"Landing page was created successfully."` | `"Public page was created successfully."` |
| `app/controllers/setup/landing_pages_controller.rb` | 82 | `"Landing page was updated successfully."` | `"Public page was updated successfully."` |
| `app/controllers/setup/landing_pages_controller.rb` | 92 | `"Landing page was archived successfully."` | `"Public page was archived successfully."` |
| `app/controllers/setup/landing_pages_controller.rb` | 98 | `"Landing page was restored successfully."` | `"Public page was restored successfully."` |
| `app/controllers/setup/landing_pages_controller.rb` | 119 | `"Landing page was duplicated successfully."` | `"Public page was duplicated successfully."` |
| `app/controllers/setup/landing_pages_controller.rb` | 126 | `"Failed to duplicate landing page."` | `"Failed to duplicate public page."` |

### 6.4 Index Page (7 occurrences in 1 file)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_pages/index.html.erb` | 2 | `Landing Pages` (heading) | `Public Pages` |
| `app/views/setup/landing_pages/index.html.erb` | 12 | `"New Landing Page"` (title attr) | `"New Public Page"` |
| `app/views/setup/landing_pages/index.html.erb` | 14 | `New Landing Page` (button text) | `New Public Page` |
| `app/views/setup/landing_pages/index.html.erb` | 36 | `"Search landing pages..."` (placeholder) | `"Search public pages..."` |
| `app/views/setup/landing_pages/index.html.erb` | 66 | `"Landing pages"` (aria-label) | `"Public pages"` |
| `app/views/setup/landing_pages/index.html.erb` | 114 | `model: "landing page"` (pagination) | `model: "public page"` |
| `app/views/setup/landing_pages/index.html.erb` | 130 | `No landing pages` (empty state heading) | `No public pages` |
| `app/views/setup/landing_pages/index.html.erb` | 131 | `Landing pages display when visitors scan QR codes...` | `Public pages display when visitors scan QR codes...` |
| `app/views/setup/landing_pages/index.html.erb` | 135 | `Create your first landing page` (CTA) | `Create your first public page` |

### 6.5 New Page (1 occurrence)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_pages/new.html.erb` | 2 | `New Landing Page` (heading) | `New Public Page` |

### 6.6 Edit Page (2 occurrences)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_pages/edit.html.erb` | 2 | `Edit Landing Page` (heading) | `Edit Public Page` |
| `app/views/setup/landing_pages/edit.html.erb` | 9 | `This landing page is archived.` (banner) | `This public page is archived.` |

### 6.7 Show Page (3 occurrences)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_pages/show.html.erb` | 33 | `"This landing page is assigned to..."` (confirm - with areas) | `"This public page is assigned to..."` |
| `app/views/setup/landing_pages/show.html.erb` | 33 | `"Are you sure you want to archive this landing page?"` (confirm - no areas) | `"Are you sure you want to archive this public page?"` |
| `app/views/setup/landing_pages/show.html.erb` | 50 | `This landing page is archived.` (banner) | `This public page is archived.` |

### 6.8 Form Partial (1 occurrence)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_pages/_form.html.erb` | 8 | `"Landing page title"` (placeholder) | `"Public page title"` |

### 6.9 Section Fields & Section Template (2 occurrences)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_pages/_section_fields.html.erb` | 137 | `...when you save the landing page.` | `...when you save the public page.` |
| `app/views/setup/landing_pages/_section_template.html.erb` | 114 | `...when you save the landing page.` | `...when you save the public page.` |

### 6.10 Assigned Landing Pages (Area Right Pane — Bootstrap) (7 occurrences)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 1 | `<h4>Landing Page</h4>` | `<h4>Public Page</h4>` |
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 5 | `Landing page assigned to this area:` | `Public page assigned to this area:` |
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 11 | `"Remove landing page from this area?"` (confirm) | `"Remove public page from this area?"` |
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 17 | `No landing page assigned` | `No public page assigned` |
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 22 | `"Replace the existing landing page assignment?"` (confirm) | `"Replace the existing public page assignment?"` |
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 28 | `"Select a landing page..."` (prompt) | `"Select a public page..."` |
| `app/views/setup/assigned_landing_pages/_landing_page.html.erb` | 43 | `Create Landing Page` (link) | `Create Public Page` |

### 6.11 Landing Page Assignments (Bulk Assign) (3 occurrences in 2 files)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/landing_page_assignments/create.html.erb` | 3 | `Landing page assigned to ... successfully.` | `Public page assigned to ... successfully.` |
| `app/views/setup/landing_page_assignments/_confirm_content.html.erb` | 10 | `...a different landing page assigned` | `...a different public page assigned` |
| `app/views/setup/landing_page_assignments/_confirm_content.html.erb` | 25 | `...existing landing page assignment with...` | `...existing public page assignment with...` |

### 6.12 Archived Landing Pages (7 occurrences)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/archived_landing_pages/index.html.erb` | 2 | `Archived Landing Pages` (heading) | `Archived Public Pages` |
| `app/views/setup/archived_landing_pages/index.html.erb` | 8 | `Back to Landing Pages` (link) | `Back to Public Pages` |
| `app/views/setup/archived_landing_pages/index.html.erb` | 60 | `model: "archived landing page"` (pagination) | `model: "archived public page"` |
| `app/views/setup/archived_landing_pages/index.html.erb` | 77 | `No archived landing pages` (empty heading) | `No archived public pages` |
| `app/views/setup/archived_landing_pages/index.html.erb` | 80 | `No archived landing pages match...` | `No archived public pages match...` |
| `app/views/setup/archived_landing_pages/index.html.erb` | 82 | `Landing pages you archive will appear here.` | `Public pages you archive will appear here.` |

### 6.13 Structures Right Pane (1 occurrence)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/setup/structures/right_pane.html.erb` | 103 | `Duplicate Landing Page` (action link) | `Duplicate Public Page` |

### 6.14 Admin Account Settings (1 occurrence)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/views/admin/accounts/edit.html.erb` | 210 | `Landing Pages` (feature flag label) | `Public Pages` |

### 6.15 JavaScript (1 occurrence)

| File | Line | Current String | New String |
|------|------|---------------|------------|
| `app/javascript/controllers/bulk_assign_modal_controller.js` | 191 | `` `Landing page assigned to ${count}...` `` | `` `Public page assigned to ${count}...` `` |

### Summary Count

| Category | Files | Occurrences |
|----------|-------|-------------|
| Sidebar navigation | 2 | 2 |
| Controller breadcrumbs (@title) | 2 | 6 |
| Controller flash messages | 1 | 6 |
| Index page | 1 | 9 |
| New page | 1 | 1 |
| Edit page | 1 | 2 |
| Show page | 1 | 3 |
| Form partial | 1 | 1 |
| Section fields/template | 2 | 2 |
| Assigned landing pages (area pane) | 1 | 7 |
| Bulk assign views | 2 | 3 |
| Archived index | 1 | 6 |
| Structures right pane | 1 | 1 |
| Admin account settings | 1 | 1 |
| JavaScript | 1 | 1 |
| **Total** | **~15 unique files** | **~51 occurrences** |

---

## 7. Technical Risks

| Risk | Severity | Details | Mitigation |
|------|----------|---------|------------|
| Missed occurrence | Low | A "Landing Page" string could exist in a file not found during search | Run `grep -ri "landing page" app/` after changes and verify zero results in non-code-level files |
| Test assertions on old strings | Low | Feature specs and request specs assert on flash messages and page headings containing "Landing Page" | Tests must be updated to expect "Public Page" strings |
| Bootstrap vs Tailwind dual view | Low | The area assignment partial (`assigned_landing_pages/_landing_page.html.erb`) uses Bootstrap styling while the main landing pages views use Tailwind | Both view paths need updating; no functional risk |

### Performance Concerns
None. This is a string replacement with zero runtime impact.

### Security Concerns
None. No authorization, scoping, or data access patterns are changed.

---

## 8. Open Questions

| # | Question | Source | Blocking? |
|---|----------|--------|-----------|
| 1 | Has the decision to rename been finalized by Matt and Dave? PM-226 is posed as a question. | PRD Section 11, Question #1 | **Yes** — PRD explicitly marks this as blocking |
| 2 | Should test files be updated as part of this project, or left for a separate pass? The feature specs and request specs assert on user-facing strings that will change. | Discovery — test inventory | No — tests should be updated alongside the strings to keep the suite green |

---

## 9. Recommendations for Architecture Stage

- **Pattern:** Simple find-and-replace of user-facing strings. No architectural decisions needed.
- **Approach:** Update each file from the inventory above. The ~15 files / ~51 occurrences can be done in a single milestone.
- **Testing:** Update test expectations in the 4 spec files that assert on "Landing Page" text. Run the full landing pages test suite to verify.
- **Verification:** After all changes, run `grep -ri "landing page" app/views/ app/controllers/ app/javascript/` to confirm zero remaining user-facing occurrences.
- **Things to avoid:** Do not rename any code identifiers, routes, database columns, or internal references — those are explicitly out of scope per the PRD.
