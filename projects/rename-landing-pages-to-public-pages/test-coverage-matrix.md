# Test Coverage Matrix — Rename "Landing Pages" to "Public Pages"

> **Generated by:** Pipeline Stage 4 (Test Generation)
> **Date:** February 6, 2026
> **Maps every gameplan acceptance criterion to its test location(s).**

---

## Coverage Summary

| Metric | Count |
|--------|-------|
| Acceptance criteria covered by automated tests | 35 |
| Acceptance criteria covered by verification grep | 6 |
| Total test cases (request spec) | 28 |
| Total test cases (feature spec) | 12 |
| **Total test cases** | **40** |

---

## M1: Rename User-Facing Strings

### Navigation (NAV-001 through NAV-003)

| Criterion ID | Description | Test File | Describe/Context | Notes |
|-------------|-------------|-----------|------------------|-------|
| NAV-001 | Tailwind sidebar link reads "Public Pages" | `spec/features/setup/landing_pages_public_page_rename_spec.rb` | `describe "sidebar navigation (NAV-001)"` | |
| NAV-002 | Bootstrap sidebar link reads "Public Pages" | — | — | Covered by verification grep; Bootstrap sidebar is rendered on non-Tailwind setup pages (e.g., structures). Both sidebars share the same text pattern. |
| NAV-003 | Archived pages back-link reads "Back to Public Pages" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "GET /setup/archived_landing_pages"` | Also covered by feature spec `describe "archived pages"` |

### Page Headings (HDG-001 through HDG-005)

| Criterion ID | Description | Test File | Describe/Context | Notes |
|-------------|-------------|-----------|------------------|-------|
| HDG-001 | Index heading reads "Public Pages" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "GET /setup/landing_pages — index page (HDG-001)"` | Also covered by feature spec |
| HDG-002 | New page heading reads "New Public Page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "GET /setup/landing_pages/new — new page (HDG-002)"` | Also covered by feature spec |
| HDG-003 | Edit page heading reads "Edit Public Page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "GET /setup/landing_pages/:id/edit — edit page (HDG-003)"` | Also covered by feature spec |
| HDG-004 | Archived index heading reads "Archived Public Pages" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "GET /setup/archived_landing_pages"` | Also covered by feature spec |
| HDG-005 | Show/edit page archived banner says "This public page is archived" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "GET /setup/landing_pages/:id — show page"` and `describe "GET /setup/landing_pages/:id/edit — edit page"` | Also covered by feature spec |

### Buttons, Links & Actions (BTN-001 through BTN-006)

| Criterion ID | Description | Test File | Describe/Context | Notes |
|-------------|-------------|-----------|------------------|-------|
| BTN-001 | "New Public Page" button on index | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `context "BTN-001: New Public Page button"` | Also covered by feature spec |
| BTN-002 | "Duplicate Public Page" in structures right pane | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "structures right pane — duplicate link (BTN-002)"` | |
| BTN-003 | Archive confirm dialog references "public page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `context "archive confirm dialog (MSG-002)"` | Tests both with-areas and without-areas variants |
| BTN-004 | Restore action flash says "Public page was restored" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | Restore flash tested |
| BTN-005 | Area tree right pane heading reads "Public Page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "structures right pane (BTN-005)"` | Tests heading, labels, confirms, prompts, and "Create Public Page" link |
| BTN-006 | Bulk assign modal success message uses "Public Page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `context "bulk assign success (BTN-006)"` | Tests the server-rendered success HTML; JS flash message in `bulk_assign_modal_controller.js` covered by verification grep |

### Flash Messages & Confirmations (MSG-001, MSG-002)

| Criterion ID | Description | Test File | Describe/Context | Notes |
|-------------|-------------|-----------|------------------|-------|
| MSG-001 (create) | "Public page was created successfully." | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | |
| MSG-001 (update) | "Public page was updated successfully." | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | |
| MSG-001 (archive) | "Public page was archived successfully." | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | |
| MSG-001 (restore) | "Public page was restored successfully." | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | |
| MSG-001 (duplicate) | "Public page was duplicated successfully." | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | |
| MSG-001 (duplicate fail) | "Failed to duplicate public page." | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "flash messages (MSG-001)"` | |
| MSG-002 (archive confirm) | Archive confirm references "public page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `context "archive confirm dialog (MSG-002)"` | |
| MSG-002 (right pane remove) | "Remove public page from this area?" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "structures right pane (BTN-005)"` | |
| MSG-002 (right pane replace) | "Replace the existing public page assignment?" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "structures right pane (BTN-005)"` | |
| MSG-002 (bulk assign confirm) | Confirmation dialog references "public page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `context "bulk assign confirmation (MSG-002)"` | |

### Feature Flag (FLG-001)

| Criterion ID | Description | Test File | Describe/Context | Notes |
|-------------|-------------|-----------|------------------|-------|
| FLG-001 | Admin account settings label reads "Public Pages" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | `describe "admin settings — feature flag label (FLG-001)"` | |

### Additional String Assertions

| Description | Test File | Describe/Context | Notes |
|-------------|-----------|------------------|-------|
| Search placeholder "Search public pages..." | Request + Feature specs | Index page tests | |
| Aria-label "Public pages" on search results | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Index page tests | |
| Empty state "No public pages" | Request + Feature specs | Index page tests | |
| Empty state description | Request + Feature specs | Index page tests | |
| CTA "Create your first public page" | Request + Feature specs | Index page tests | |
| Pagination model "public page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Index pagination | |
| Pagination model "archived public page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Archived index pagination | |
| Form placeholder "Public page title" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | New page tests | |
| Archived empty state "No archived public pages" | Request + Feature specs | Archived index tests | |
| Archived description "Public pages you archive" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Archived index tests | |
| "No public page assigned" in right pane | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Structures right pane | |
| "Select a public page..." prompt | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Structures right pane | |
| "Create Public Page" link | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Structures right pane | |
| "Public page assigned to this area:" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Structures right pane | |
| Validation error re-render "New Public Page" | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | POST create validation | |
| "Public page assigned to X areas" (server HTML) | `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Bulk assign success | |

---

## Criteria Covered by Verification Grep Only

These strings are in files that are covered by the Stage 5 verification grep but not directly tested by automated specs:

| String | File | Reason |
|--------|------|--------|
| NAV-002: Bootstrap sidebar "Public Pages" | `app/views/setup/_sidebar.html.erb` | Bootstrap sidebar is rendered on non-landing-pages setup pages; same text pattern as Tailwind sidebar |
| Section fields help text "public page" | `app/views/setup/landing_pages/_section_fields.html.erb` | Rendered within JS-managed section editor |
| Section template help text "public page" | `app/views/setup/landing_pages/_section_template.html.erb` | Rendered within JS-managed section editor |
| Bulk assign JS flash "Public page assigned to" | `app/javascript/controllers/bulk_assign_modal_controller.js` | JavaScript template literal; server HTML tested, JS string covered by grep |
| Confirm content "public page assigned" | `app/views/setup/landing_page_assignments/_confirm_content.html.erb` | Tested indirectly via bulk assign confirmation request; exact wording verified by grep |
| Archived search empty "No archived public pages match" | `app/views/setup/archived_landing_pages/index.html.erb` | Dynamic search result empty state; base empty state tested |

---

## Test Files Created

| File | Type | Tests | Description |
|------|------|-------|-------------|
| `spec/requests/setup/landing_pages_public_page_rename_spec.rb` | Request | 28 | Controller flash messages, response body string assertions for all pages, structures right pane, admin settings, assignment views |
| `spec/features/setup/landing_pages_public_page_rename_spec.rb` | Feature | 12 | UI-visible strings: sidebar, headings, buttons, empty states, search placeholder, archived pages |

---

## Platform Coverage

| Platform | Coverage | Notes |
|----------|----------|-------|
| Rails (Web) | Full | 40 test cases across request + feature specs |
| iOS | N/A | Level 2 (web-only) project |
| Android | N/A | Level 2 (web-only) project |
